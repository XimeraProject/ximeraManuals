\documentclass{ximera}

\title{GitHub setup}

\author{Bart Snapp}

\begin{document}
\begin{abstract}
    How to create a new Ximera project.
\end{abstract}
\maketitle

\paragraph{All Ximera files must be hosted in a git repository.}
As an author, you have some choices as to how you proceed.

\paragraph{Starting fresh} is easy.
Select one of following repositories as a template:
\begin{itemize}
    \item \url{https://github/ximeraProject/ximeraFirstSteps} for playing around with some examples.
    \item \url{https://github/ximeraProject/ximeraNewProject} for a minimal structure to get started.
\end{itemize}
When you are logged in to GitHub, you
will in both cases have the option to make a new repository using the green ``Use this
template'' button. Once the template is made, you are ready to go!

\paragraph{To deploy an existing repository from a codespace} copy the
following files from either \verb!ximeraFirstSteps! or \verb!ximeraNewProject!
into your repository.
\begin{description}
    \item[\texttt{.devcontainer/}] (folder needed to be able to start 
          a
          GitHub codespace)
    \item[\texttt{xmScripts/}] folder with the Ximera build and deploy script and config.
    \item[\texttt{.vscode/}] folder with VS Code
        settings, e.g.  the buttons for Ximera compilation.
    \item[\texttt{.xmKeyFile}] a `dummy' gpg-key file needed to preview your work in a Codespace.
    \item[\texttt{.gitignore}]  \textbf{replace yours or merge them} if you alrady have one.
\end{description}
Commit your changes to GitHub and check online that the files were added.
Start a Codespace in your repository to build, edit and preview your course.


\paragraph{Deploying an existing repository without Codespaces, but working on your machine} is more involved, and requires
\begin{description}
    \item[Docker:] a development utility to easily run
        self-contained applications on your
        computer. Install and start Docker, it runs in the background and will start the Ximera container that contains TeX.
    \item[VS Code Desktop:] a popular text-editor with strong \LaTeX, \verb!git!,
        and Docker integration. It enables a UNIX-like command line interface on
        Windows machines via Microsoft's WSL (Windows Subsystem for Linux).
\end{description}
Contact the Ximera developers for assistance. A typical workflow is:
\begin{enumerate}
    \item Open Docker and minimize the window.
    \item Open VS Code, do File $\to$ Open Folder, and select the
          folder of your \verb!git! repo.
    \item To open files, do \verb!Ctrl-p! and start typing file names. Any
          file
          committed to your git repository will be found, and files in
          \verb!.gitignore!, will not be shown.
    \item To run a special command (like search and replace) do
          \verb!Ctrl-Shift-p!, and search for the command.
    \item To toggle a UNIX-like terminal, use \verb!Ctrl-~!. Note, technically
          it is \verb!Ctrl-`!, but perhaps this is \textit{more} confusing than our
          misdirection.
\end{enumerate}

Now, copy the same files as above from either \verb!ximeraFirstSteps! or
\verb!ximeraNewProject!
into the repository you wish to deploy.
\begin{description}
    \item[\texttt{.devcontainer/}] (optional: provides a Codespace setup) 
    \item[\texttt{xmScripts/}]  (build scripts and config)
    \item[\texttt{.vscode/}]  (optional, but strongly advised)
    \item[\texttt{.gitignore}]	(optional, but strongly advised)
\end{description}
Commit your changes to GitHub and view your repository online via a web browser
to ensure that the files were added.

\begin{warning}
    If you've added \verb!.devcontainer/! to your repository and open it
    locally, VS Code will ask you if you want to open a Development Container.
    Probably you don't, since you can working locally and the VS Code buttons will each time start a local container.
    But if you answer ``Yes'' you can develop completely \textit{inside} a container that will run on your local computer. 
\end{warning}

Now, move the \verb!.xmKeyFile! to your repository.
\textbf{If deploying on your machine, you do not need to commit the
    \texttt{.xmKeyFile} to the repository. But surely never commit a non-dummy key!}

\end{document}